<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>I Can Transform</title>
	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="styles/index.css">
</head>
<body>
	<img class="image" id="loading" src="loading.png" alt="Loading..." width="32" height="32">
	<div id="msg" style="text-align:center">
		<b>Please wait a few moments, it will start...<br>
			Do you like speed? Then you will love this game!
		</b>
	</div>
	
    <canvas id="canvas" oncontextmenu="event.preventDefault()">
      Loading... 
    </canvas>
	
	<hr>
	<div class="center-justified">
		<b><u>Eng:</u></b>
		<br>
		It can happen that the game does not work well on some browsers because we use a technology a little recent (which is not yet well supported on all browsers) to make our game run.
		In case you encounter a problem note that you can play the <b>Android version 
		(<a href="https://play.google.com/store/apps/details?id=com.isdaouda.icantransform" title="I Can Transform Android" target="_blank">Available on Google Play</a>)</b> 
		on your Smartphone or Android Emulator (Bluestacks, ...).
		<br>
		<br>
		If you have any bugs to report or questions, please click <a href="mailto:isdaouda.n@gmail.com">here</a> to contact us.
	</div>
	<hr>
	<div class="center-justified">
		<b><u>Fr:</u></b>
		<br>
		Il peut arriver que le jeu ne fonctionne pas bien sur certains navigateurs car nous utilisons 
		une technologie un peu récente (qui n'est pas encore bien supportée sur tous les navigateurs) pour faire tourner notre jeu.
		Au cas où vous rencontrez un problème notez que vous pouvez jouer à la <b>version Android 
		(<a href="https://play.google.com/store/apps/details?id=com.isdaouda.icantransform" title="I Can Transform Android" target="_blank">Disponible sur Google Play</a>)</b> 
		sur votre Smartphone ou Emulateur Android (Bluestacks, ...).
		<br>
		<br>
		Si vous avez des bugs à signaler ou des questions, s'il vous plaît cliquez <a href="mailto:isdaouda.n@gmail.com">ici</a> pour nous contacter.
	</div>
    <script type="text/javascript">		
		window.Module = {
			canvas: document.getElementById('canvas'),
			print: console.log,
			printErr: console.error,
		};
		
		var logBackup = console.log;
		var logMessages = [];
		console.log = function() {
			logMessages.push.apply(logMessages, arguments);
			logBackup.apply(console, arguments);
		};
		
		var showError = false;		
		var second = 0;
		function chrono() {
			second++;
			if (!logMessages.includes("Start successfully!"))
			{
				if (second > 90)
				{
					if (!showError)
					{
						document.getElementById('msg').innerHTML = 'Um... The game is taking too long to load.<br>' +
																	'Please try to restart (<a href="">Click here</a onclick="location.reload();">) the page.';
						document.getElementById('msg').style.color = 'red';
						showError = true;
					}
				}
			}
			else
			{
				document.getElementById('loading').style.visibility = 'hidden';
				document.getElementById('msg').style.visibility = 'hidden';
			}
		}
		setInterval("chrono()", 1000);
    </script>
    <script async src="isengine.js"></script>
</body>
</html>
